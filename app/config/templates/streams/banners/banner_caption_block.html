{% load static wagtailcore_tags wagtailimages_tags %}

<div class="cta d-md-block d-none">
  <div class="d-flex flex-column justify-content-center h-100 p-2 p-md-4" style="gap: 10px;">
    <h4>{{ self.title }}</h4>
    <p>{{ self.text | truncatechars:100 }}</p>
    {% if self.btn_label %}
      <a class="main-btn" {% if self.url.open_in_new %}target="_blank"{% endif %}  href="{{ self.url.src }}">{{ self.btn_label }}</a>
    {% endif %}
  </div>
</div>

<button id="banner-caption-btn" class="btn primary-bg-color text-white d-md-none d-block cta-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">
  <i class="fa-solid fa-chevron-left"></i>
</button>

<div class="cta-offcanvas offcanvas offcanvas-end d-md-none d-block" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
  <div class="offcanvas-header">
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div class="d-flex flex-column justify-content-center h-100 p-2 p-md-4" style="gap: 10px;">
      <h4>{{ self.title }}</h4>
      <p>{{ self.text | truncatechars:100 }}</p>
      {% if self.btn_label %}
        <a class="main-btn" {% if self.url.open_in_new %}target="_blank"{% endif %}  href="{{ self.url.src }}">{{ self.btn_label }}</a>
      {% endif %}
    </div>
  </div>
</div>